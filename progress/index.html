<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FitTrack | Progress </title>
    <link href="/dist/styles.css" rel="stylesheet">
  </head>
  <body>
  <script type="module">
        import {supabase} from "../src/supabase.js";

        // Get the current session
        document.addEventListener('DOMContentLoaded', async () => {
            const {data: {session}} = await supabase.auth.getSession();

            if (!session) {
                // If user is not logged in, redirect to login page
                window.location.replace('/login/');
            }
        });
  </script>
    <div class="container mx-auto px-4 py-8 max-w-md" id="app">
        <!-- Header -->
        <header class="flex justify-between items-center mb-12">
            <div class="flex items-center">
                <img src="https://wtgf.org/wp-content/uploads/2016/06/running-100x100.png" alt="FitTrack Logo" class="w-10 h-10 mr-2">
                <span class="text-xl font-bold text-lime-500">FitTrack</span>
            </div>
            <div class="flex">
                 <a id="homeBtn" class=" font-bold text-lime-500 rounded-lg p-2 " href="/index.html">Home</a>
                 <a id="settingsBtn" class=" font-bold text-lime-500 rounded-lg p-2" href="/settings">Settings</a>
                <a id="goalsBtn" class=" font-bold text-lime-500 rounded-lg p-2" href="/add-goal/">Goals</a>
            </div>
        </header>

        <main class="space-y-6 pb-8">
            <h1 class=" text-orange-500 text-2xl font-bold mb-6">Fitness Tracker</h1>

            <div class="bg-black rounded-lg shadow p-6 space-y-4">
                <h1 class=" text-xl font-semibold text-lime-500 mb-4">Current Status</h1>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                    <p class="text-sm text-lime-500">Current Weight</p>
                    <p class="text-lg font-bold text-yellow-50 mb-4">147 lbs</p>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <p class="text-sm text-lime-500">Goal Weight</p>
                    <p class="text-lg font-bold text-orange-500 mb-4">143 lbs</p>
                </div>
                 <div>
                     <p class="text-sm text-lime-500">Calories Burned (Today)</p>
                     <p id="caloriesBurned" class="text-lg font-bold text-yellow-50 mb-4">2200 kcal</p>
                 </div>
                <div>
                    <p class="text-sm text-lime-500">Steps (Today)</p>
                    <p id="stepsToday" class="text-lg font-bold text-orange-500">9800</p>
                </div>
            </div>

            <div class="bg-black rounded-lg shadow p-6">
                <h2 class="text-lime-500 text-xl font-semibold mb-4 ">Today's Workout</h2>
                <ul class="list-disc list-inside">
                    <li class="text-sm text-yellow-50">30 min cardio</li>
                    <li class="text-sm text-orange-500">3 x 10 push-ups</li>
                    <li class="text-sm text-yellow-50">3 x 12 squats</li>
                    <li class="text-sm text-orange-500">15 min yoga</li>
                </ul>
            </div>

            <div class="bg-black rounded-lg shadow p-6">
               <div class="mb-6">
                   <h2 class="text-lime-500 text-xl font-semibold mb-4">Progress Chart</h2>
                   <div class=" mb-2">
                        <button id="weightBtn" class="btn btn-sm btn-primary ">Weight</button>
                        <button id="caloriesBtn" class="btn btn-sm btn-outline">Calories</button>
                        <button id="stepsBtn" class="btn btn-sm btn-outline">Steps</button>
                   </div>
                   <canvas id="fitnessChart" width="100" height="200"></canvas>
               </div>
            </div>
            <div class=" bg-black p-6 rounded-lg ">
                <h2 class="text-lime-500 text-xl font-semibold mb-4">Update Today's Progress</h2>
                <div class="flex items-center space-x-2 mb-4">
                    <input id="newWeightInput" type="number" placeholder="Enter today's weight" class="input input-bordered w-full max-w-xs rounded-lg">
                    <button id="updateWeightBtn" class="text-orange-500 p-6">Update</button>
                </div>
                <div class="flex items-center space-x-2 mb-4">
                    <input id="newCaloriesInput" type="number" placeholder="Enter calories burned" class="input input-bordered w-full max-w-xs rounded-lg">
                    <button id="updateCaloriesBtn" class="text-yellow-50 p-6">Update</button>
                </div>
                <div class="flex items-center space-x-2">
                    <input id="newStepsInput" type="number" placeholder="Enter steps taken" class="input input-bordered w-full max-w-xs rounded-lg">
                    <button id="updateStepsBtn" class="text-orange-500 p-6">Update</button>
                </div>
            </div>
            <div class="text-center text-sm text-gray-500">
                <p>Last updated: <span id="lastUpdated">Today at 8:00 AM</span></p>
            </div>
        </main>
    </div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
